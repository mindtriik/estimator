const he=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerpolicy&&(l.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?l.credentials="include":r.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(r){if(r.ep)return;r.ep=!0;const l=n(r);fetch(r.href,l)}};he();function P(){}function me(e){return e()}function se(){return Object.create(null)}function I(e){e.forEach(me)}function _e(e){return typeof e=="function"}function U(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function ge(e){return Object.keys(e).length===0}function c(e,t){e.appendChild(t)}function G(e,t,n){e.insertBefore(t,n||null)}function L(e){e.parentNode.removeChild(e)}function be(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function h(e){return document.createElement(e)}function z(e){return document.createTextNode(e)}function S(){return z(" ")}function j(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function ye(e){return function(t){return t.preventDefault(),e.call(this,t)}}function ve(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function d(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function ke(e){return Array.from(e.childNodes)}function Q(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function J(e,t){e.value=t==null?"":t}function Ee(e,t,n=!1){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,!1,t),i}let B;function D(e){B=e}function we(){if(!B)throw new Error("Function called outside component initialization");return B}function Se(){const e=we();return(t,n)=>{const i=e.$$.callbacks[t];if(i){const r=Ee(t,n);i.slice().forEach(l=>{l.call(e,r)})}}}const M=[],q=[],K=[],Z=[],Ce=Promise.resolve();let x=!1;function Ne(){x||(x=!0,Ce.then(pe))}function ee(e){K.push(e)}function V(e){Z.push(e)}const X=new Set;let H=0;function pe(){const e=B;do{for(;H<M.length;){const t=M[H];H++,D(t),Pe(t.$$)}for(D(null),M.length=0,H=0;q.length;)q.pop()();for(let t=0;t<K.length;t+=1){const n=K[t];X.has(n)||(X.add(n),n())}K.length=0}while(M.length);for(;Z.length;)Z.pop()();x=!1,X.clear(),D(e)}function Pe(e){if(e.fragment!==null){e.update(),I(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ee)}}const W=new Set;let $e;function te(e,t){e&&e.i&&(W.delete(e),e.i(t))}function ce(e,t,n,i){if(e&&e.o){if(W.has(e))return;W.add(e),$e.c.push(()=>{W.delete(e),i&&(n&&e.d(1),i())}),e.o(t)}}function Y(e,t,n){const i=e.$$.props[t];i!==void 0&&(e.$$.bound[i]=n,n(e.$$.ctx[i]))}function ue(e){e&&e.c()}function ne(e,t,n,i){const{fragment:r,on_mount:l,on_destroy:s,after_update:f}=e.$$;r&&r.m(t,n),i||ee(()=>{const u=l.map(me).filter(_e);s?s.push(...u):I(u),e.$$.on_mount=[]}),f.forEach(ee)}function ie(e,t){const n=e.$$;n.fragment!==null&&(I(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ae(e,t){e.$$.dirty[0]===-1&&(M.push(e),Ne(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function le(e,t,n,i,r,l,s,f=[-1]){const u=B;D(e);const o=e.$$={fragment:null,ctx:null,props:l,update:P,not_equal:r,bound:se(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:se(),dirty:f,skip_bound:!1,root:t.target||u.$$.root};s&&s(o.root);let a=!1;if(o.ctx=n?n(e,t.props||{},(g,m,...v)=>{const p=v.length?v[0]:m;return o.ctx&&r(o.ctx[g],o.ctx[g]=p)&&(!o.skip_bound&&o.bound[g]&&o.bound[g](p),a&&Ae(e,g)),m}):[],o.update(),a=!0,I(o.before_update),o.fragment=i?i(o.ctx):!1,t.target){if(t.hydrate){const g=ke(t.target);o.fragment&&o.fragment.l(g),g.forEach(L)}else o.fragment&&o.fragment.c();t.intro&&te(e.$$.fragment),ne(e,t.target,t.anchor,t.customElement),pe()}D(u)}class oe{$destroy(){ie(this,1),this.$destroy=P}$on(t,n){const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const r=i.indexOf(n);r!==-1&&i.splice(r,1)}}$set(t){this.$$set&&!ge(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const O=[];function Fe(e,t=P){let n;const i=new Set;function r(f){if(U(e,f)&&(e=f,n)){const u=!O.length;for(const o of i)o[1](),O.push(o,e);if(u){for(let o=0;o<O.length;o+=2)O[o][0](O[o+1]);O.length=0}}}function l(f){r(f(e))}function s(f,u=P){const o=[f,u];return i.add(o),i.size===1&&(n=t(r)||P),f(e),()=>{i.delete(o),i.size===0&&(n(),n=null)}}return{set:r,update:l,subscribe:s}}const T=Fe([]),re="Materials",Oe=(e,t)=>{T.update(n=>[{name:e,price:t,id:new Date().getTime()},...n])},je=(e,t,n)=>{T.update(i=>{const r=i.findIndex(l=>l.id===e);return i[r].name=t,i[r].price=n,i})},Ie=e=>{T.update(t=>{const n=t.findIndex(i=>i.id===e);return t.splice(n,1),t})};localStorage.getItem(re)&&T.set(JSON.parse(localStorage.getItem(re)));T.subscribe(e=>{const t=JSON.stringify(e);localStorage.setItem(re,t)});var R={subscribe:T.subscribe,add:Oe,edit:je,remove:Ie};function fe(e,t,n){const i=e.slice();return i[7]=t[n],i[9]=n,i}function ae(e){let t,n,i=e[7].name+"",r,l,s,f=e[3].format(e[7].price)+"",u,o,a,g,m,v,p,_;function C(){return e[4](e[7])}function b(){return e[5](e[7])}return{c(){t=h("tr"),n=h("td"),r=z(i),l=S(),s=h("td"),u=z(f),o=S(),a=h("td"),g=h("span"),m=h("i"),v=S(),d(m,"class","far fa-trash-alt"),d(g,"class","icon is-medium"),d(t,"class","has-text-centered svelte-rfiht5")},m(k,w){G(k,t,w),c(t,n),c(n,r),c(t,l),c(t,s),c(s,u),c(t,o),c(t,a),c(a,g),c(g,m),c(t,v),p||(_=[j(m,"click",ve(C)),j(t,"click",b)],p=!0)},p(k,w){e=k,w&1&&i!==(i=e[7].name+"")&&Q(r,i),w&1&&f!==(f=e[3].format(e[7].price)+"")&&Q(u,f)},d(k){k&&L(t),p=!1,I(_)}}}function Le(e){let t,n,i,r,l,s,f,u,o=e[3].format(e[1])+"",a,g,m,v=e[0],p=[];for(let _=0;_<v.length;_+=1)p[_]=ae(fe(e,v,_));return{c(){t=h("table"),n=h("thead"),n.innerHTML=`<tr class="svelte-rfiht5"><th>Material</th> 
            <th>Price</th> 
            <th></th></tr>`,i=S(),r=h("tfoot"),l=h("tr"),s=h("th"),s.textContent="Total Price:",f=S(),u=h("th"),a=z(o),g=S(),m=h("tbody");for(let _=0;_<p.length;_+=1)p[_].c();d(s,"colspan","2"),d(l,"class","svelte-rfiht5"),d(r,"class","svelte-rfiht5"),d(t,"class","table is-fullwidth is-bordered")},m(_,C){G(_,t,C),c(t,n),c(t,i),c(t,r),c(r,l),c(l,s),c(l,f),c(l,u),c(u,a),c(t,g),c(t,m);for(let b=0;b<p.length;b+=1)p[b].m(m,null)},p(_,[C]){if(C&2&&o!==(o=_[3].format(_[1])+"")&&Q(a,o),C&13){v=_[0];let b;for(b=0;b<v.length;b+=1){const k=fe(_,v,b);p[b]?p[b].p(k,C):(p[b]=ae(k),p[b].c(),p[b].m(m,null))}for(;b<p.length;b+=1)p[b].d(1);p.length=v.length}},i:P,o:P,d(_){_&&L(t),be(p,_)}}}function Te(e,t,n){let i;const r=Se();let l=[];R.subscribe(a=>{n(0,l=a)});function s(a,g,m){r("edit",{id:a,name:g,price:m})}const f=new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD"}),u=a=>{R.remove(a.id)},o=a=>{s(a.id,a.name,a.price)};return e.$$.update=()=>{e.$$.dirty&1&&n(1,i=l.reduce((a,g)=>a+Number(g.price),0))},[l,i,s,f,u,o]}class Me extends oe{constructor(t){super(),le(this,t,Te,Le,U,{})}}function de(e){let t,n,i;return{c(){t=h("button"),t.textContent="Cancel",d(t,"class","button is-Ghost is-normal is-responsive svelte-193jdkr"),d(t,"type","button")},m(r,l){G(r,t,l),n||(i=j(t,"click",e[5]),n=!0)},p:P,d(r){r&&L(t),n=!1,i()}}}function De(e){let t,n,i,r,l,s,f,u,o,a,g,m,v,p,_,C,b,k,w,y,$,A,E=e[2]==="Edit"&&de(e);return{c(){t=h("form"),n=h("fieldset"),i=h("label"),i.textContent="Material",r=S(),l=h("div"),s=h("input"),f=S(),u=h("fieldset"),o=h("label"),o.textContent="Price",a=S(),g=h("div"),m=h("input"),v=S(),p=h("div"),_=h("div"),E&&E.c(),C=S(),b=h("div"),k=h("button"),w=z(e[2]),d(i,"class","label"),d(i,"for","nameField"),d(s,"class","input"),d(s,"type","text"),d(s,"id","nameField"),d(s,"placeholder","Wood, Glue, etc."),d(l,"class","control"),d(n,"class","field"),d(o,"class","label"),d(o,"for","PriceField"),d(m,"class","input"),d(m,"type","Number"),d(m,"id","PriceField"),d(m,"placeholder","Price"),d(m,"min","0"),d(m,"step","any"),d(g,"class","control"),d(u,"class","field"),d(_,"class","control"),d(k,"class","button is-info is-normal is-responsive svelte-193jdkr"),d(k,"type","submit"),k.disabled=y=!e[3],d(b,"class","control"),d(p,"class","buttons is-grouped is-right")},m(N,F){G(N,t,F),c(t,n),c(n,i),c(n,r),c(n,l),c(l,s),J(s,e[0]),c(t,f),c(t,u),c(u,o),c(u,a),c(u,g),c(g,m),J(m,e[1]),c(t,v),c(t,p),c(p,_),E&&E.m(_,null),c(p,C),c(p,b),c(b,k),c(k,w),$||(A=[j(s,"input",e[7]),j(m,"input",e[8]),j(t,"submit",ye(e[4]))],$=!0)},p(N,[F]){F&1&&s.value!==N[0]&&J(s,N[0]),F&2&&J(m,N[1]),N[2]==="Edit"?E?E.p(N,F):(E=de(N),E.c(),E.m(_,null)):E&&(E.d(1),E=null),F&4&&Q(w,N[2]),F&8&&y!==(y=!N[3])&&(k.disabled=y)},i:P,o:P,d(N){N&&L(t),E&&E.d(),$=!1,I(A)}}}function qe(e,t,n){let i,r,{id:l}=t,{name:s=""}=t,{price:f}=t;function u(){!r||(i==="Add"&&R.add(s,f),i==="Edit"&&R.edit(l,s,f),n(1,f=""),n(0,s=""),n(6,l=void 0))}function o(){n(1,f=""),n(0,s=""),n(6,l=void 0)}function a(){s=this.value,n(0,s)}function g(){f=this.value,n(1,f)}return e.$$set=m=>{"id"in m&&n(6,l=m.id),"name"in m&&n(0,s=m.name),"price"in m&&n(1,f=m.price)},e.$$.update=()=>{e.$$.dirty&64&&n(2,i=l===void 0?"Add":"Edit"),e.$$.dirty&3&&n(3,r=f===void 0?!1:f!==""&&s!=="")},[s,f,i,r,u,o,l,a,g]}class ze extends oe{constructor(t){super(),le(this,t,qe,De,U,{id:6,name:0,price:1})}}function Be(e){let t,n,i,r,l,s,f,u,o,a,g,m,v,p,_;function C(y){e[4](y)}function b(y){e[5](y)}function k(y){e[6](y)}let w={};return e[0]!==void 0&&(w.id=e[0]),e[1]!==void 0&&(w.name=e[1]),e[2]!==void 0&&(w.price=e[2]),u=new ze({props:w}),q.push(()=>Y(u,"id",C)),q.push(()=>Y(u,"name",b)),q.push(()=>Y(u,"price",k)),p=new Me({}),p.$on("edit",e[3]),{c(){t=h("main"),n=h("div"),i=h("div"),r=h("div"),l=h("h1"),l.textContent="Project Estimator",s=S(),f=h("div"),ue(u.$$.fragment),m=S(),v=h("div"),ue(p.$$.fragment),d(l,"class","title is-1"),d(f,"class","section"),d(v,"class","section"),d(r,"class","column is-four-fifths"),d(i,"class","columns"),d(n,"class","container"),d(t,"class","section")},m(y,$){G(y,t,$),c(t,n),c(n,i),c(i,r),c(r,l),c(r,s),c(r,f),ne(u,f,null),c(r,m),c(r,v),ne(p,v,null),_=!0},p(y,[$]){const A={};!o&&$&1&&(o=!0,A.id=y[0],V(()=>o=!1)),!a&&$&2&&(a=!0,A.name=y[1],V(()=>a=!1)),!g&&$&4&&(g=!0,A.price=y[2],V(()=>g=!1)),u.$set(A)},i(y){_||(te(u.$$.fragment,y),te(p.$$.fragment,y),_=!0)},o(y){ce(u.$$.fragment,y),ce(p.$$.fragment,y),_=!1},d(y){y&&L(t),ie(u),ie(p)}}}function Ge(e,t,n){let i,r="",l;function s(a){n(0,{id:i,name:r,price:l}=a.detail,i,n(1,r),n(2,l))}function f(a){i=a,n(0,i)}function u(a){r=a,n(1,r)}function o(a){l=a,n(2,l)}return[i,r,l,s,f,u,o]}class Je extends oe{constructor(t){super(),le(this,t,Ge,Be,U,{})}}new Je({target:document.getElementById("app")});
